package app{	import flash.display.MovieClip;	import flash.events.KeyboardEvent;	import flash.ui.Keyboard;	import app.Profile;	import app.BPList;	public class GController extends MovieClip {		private var inProg:Boolean;		//private var input:String;		private var wager:int;		private var tOnepOne:Profile;		private var tOnepTwo:Profile;		private var tTwopOne:Profile;		private var tTwopTwo:Profile;		private var notdone:Boolean;		private var winner:int;		public function GController() {			inProg=false;			this.wagerBar.wagerBox.restrict="0-9";			winner = 0;		}		public function playGame():void {			if (!inProg && (MovieClip(root).theList.isGTG(winner))) {				inProg=true;				this.populatePeeps();				this.play();				stage.focus=this.wagerBar.wagerBox;				stage.addEventListener(KeyboardEvent.KEY_UP, getWager);			} else {				stage.addEventListener(KeyboardEvent.KEY_UP, MovieClip(root).pageChange);			}			return;		}		public function populatePeeps() {			if(winner == 0){				tOnepOne=MovieClip(root).theList.dequeue();				tOnepTwo=MovieClip(root).theList.dequeue();				tTwopOne=MovieClip(root).theList.dequeue();				tTwopTwo=MovieClip(root).theList.dequeue();			}			else if(winner == 1){				tTwopOne=MovieClip(root).theList.dequeue();				tTwopTwo=MovieClip(root).theList.dequeue();			}			else{				tOnepOne=MovieClip(root).theList.dequeue();				tOnepTwo=MovieClip(root).theList.dequeue();			}			this.ChallengeBar.p1.text = (tOnepOne.getPerson()+" and "+tOnepTwo.getPerson());			this.ChallengeBar.p2.text = (tTwopOne.getPerson()+" and "+tTwopTwo.getPerson());			MovieClip(root).theBList.populateList();		}		public function getWager(evt:KeyboardEvent):void {			if (evt.keyCode==32) {				wager=parseInt(this.wagerBar.wagerBox.text);				if (wager<=tOnepOne.getCreds()&&wager<=tOnepTwo.getCreds()&&wager<=tTwopOne.getCreds()&&wager<=tTwopTwo.getCreds()) {					stage.removeEventListener(KeyboardEvent.KEY_UP, getWager);					tOnepOne.bet(wager);					tOnepTwo.bet(wager);					tTwopOne.bet(wager);					tTwopTwo.bet(wager);					this.ChallengeBar.wager.text=wager;					this.play();					stage.addEventListener(KeyboardEvent.KEY_UP, MovieClip(root).pageChange);				}				this.wagerBar.wagerBox.text="";				stage.focus=this.wagerBar.wagerBox;			} else {				return;			}		}				public function setWinner(w:int){			winner = w;		}	}}